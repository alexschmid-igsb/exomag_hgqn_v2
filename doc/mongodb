

1. create MongoDB Admin

   mongosh
   use admin
   database.createUser({ user: 'root', pwd: '<secure password #1>', roles: ['root'] })
   database.auth('root', '<secure password #1>')



2. enable authentication

   /etc/mongod.conf

   security:
      authorization: enabled

   sudo systemctl restart mongod.service



3. create ExomAG users

   mongosh -u root

   use exomag_dev;
   db.createUser({ user:'exomag_dev', pwd: '<secure password #2>', roles:[{db:'exomag_dev', role:'readWrite'}]});
   db.createCollection('dummy');

   use exomag_production;
   db.createUser({ user:'exomag_production', pwd: '<secure password #3>', roles:[{db:'exomag_production', role:'readWrite'}]});
   db.createCollection('dummy');
